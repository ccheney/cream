{
  "id": "4c89a94d-9646-4384-afeb-536eb28d34a0",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.account": {
      "name": "account",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_id": {
          "name": "provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token_expires_at": {
          "name": "access_token_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_expires_at": {
          "name": "refresh_token_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_account_user_id": {
          "name": "idx_account_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_account_provider_id": {
          "name": "idx_account_provider_id",
          "columns": [
            {
              "expression": "provider_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_account_provider_account": {
          "name": "idx_account_provider_account",
          "columns": [
            {
              "expression": "provider_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "account_user_id_user_id_fk": {
          "name": "account_user_id_user_id_fk",
          "tableFrom": "account",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_configs": {
      "name": "agent_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "agent_type": {
          "name": "agent_type",
          "type": "agent_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "system_prompt_override": {
          "name": "system_prompt_override",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_agent_configs_environment": {
          "name": "idx_agent_configs_environment",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_configs_agent_type": {
          "name": "idx_agent_configs_agent_type",
          "columns": [
            {
              "expression": "agent_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_configs_env_agent": {
          "name": "idx_agent_configs_env_agent",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agent_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_outputs": {
      "name": "agent_outputs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "decision_id": {
          "name": "decision_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agent_type": {
          "name": "agent_type",
          "type": "agent_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "vote": {
          "name": "vote",
          "type": "agent_vote",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "reasoning_summary": {
          "name": "reasoning_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "full_reasoning": {
          "name": "full_reasoning",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_agent_outputs_decision_id": {
          "name": "idx_agent_outputs_decision_id",
          "columns": [
            {
              "expression": "decision_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_outputs_agent_type": {
          "name": "idx_agent_outputs_agent_type",
          "columns": [
            {
              "expression": "agent_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_outputs_decision_agent": {
          "name": "idx_agent_outputs_decision_agent",
          "columns": [
            {
              "expression": "decision_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agent_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_outputs_decision_id_decisions_id_fk": {
          "name": "agent_outputs_decision_id_decisions_id_fk",
          "tableFrom": "agent_outputs",
          "tableTo": "decisions",
          "columnsFrom": [
            "decision_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "valid_confidence": {
          "name": "valid_confidence",
          "value": "\"agent_outputs\".\"confidence\"::numeric >= 0 AND \"agent_outputs\".\"confidence\"::numeric <= 1"
        }
      },
      "isRLSEnabled": false
    },
    "public.alert_settings": {
      "name": "alert_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enable_push": {
          "name": "enable_push",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "enable_email": {
          "name": "enable_email",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "email_address": {
          "name": "email_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "critical_only": {
          "name": "critical_only",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "quiet_hours_start": {
          "name": "quiet_hours_start",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quiet_hours_end": {
          "name": "quiet_hours_end",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_alert_settings_user_id": {
          "name": "idx_alert_settings_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "alert_settings_user_id_user_id_fk": {
          "name": "alert_settings_user_id_user_id_fk",
          "tableFrom": "alert_settings",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "alert_settings_user_id_unique": {
          "name": "alert_settings_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.alerts": {
      "name": "alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "severity": {
          "name": "severity",
          "type": "alert_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged": {
          "name": "acknowledged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_alerts_severity": {
          "name": "idx_alerts_severity",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alerts_type": {
          "name": "idx_alerts_type",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alerts_acknowledged": {
          "name": "idx_alerts_acknowledged",
          "columns": [
            {
              "expression": "acknowledged",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alerts_created_at": {
          "name": "idx_alerts_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alerts_environment": {
          "name": "idx_alerts_environment",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alerts_unack_env": {
          "name": "idx_alerts_unack_env",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "acknowledged",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"alerts\".\"acknowledged\" = false",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_log": {
      "name": "audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_email": {
          "name": "user_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'LIVE'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_audit_log_user_id": {
          "name": "idx_audit_log_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_log_timestamp": {
          "name": "idx_audit_log_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_log_action": {
          "name": "idx_audit_log_action",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_log_environment": {
          "name": "idx_audit_log_environment",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.backtest_equity": {
      "name": "backtest_equity",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "backtest_id": {
          "name": "backtest_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "nav": {
          "name": "nav",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "cash": {
          "name": "cash",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "equity": {
          "name": "equity",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "drawdown": {
          "name": "drawdown",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "drawdown_pct": {
          "name": "drawdown_pct",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "day_return_pct": {
          "name": "day_return_pct",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "cumulative_return_pct": {
          "name": "cumulative_return_pct",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_backtest_equity_backtest_id": {
          "name": "idx_backtest_equity_backtest_id",
          "columns": [
            {
              "expression": "backtest_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_backtest_equity_timestamp": {
          "name": "idx_backtest_equity_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_backtest_equity_bt_ts": {
          "name": "idx_backtest_equity_bt_ts",
          "columns": [
            {
              "expression": "backtest_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "backtest_equity_backtest_id_backtests_id_fk": {
          "name": "backtest_equity_backtest_id_backtests_id_fk",
          "tableFrom": "backtest_equity",
          "tableTo": "backtests",
          "columnsFrom": [
            "backtest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "positive_nav": {
          "name": "positive_nav",
          "value": "\"backtest_equity\".\"nav\"::numeric > 0"
        },
        "non_negative_cash": {
          "name": "non_negative_cash",
          "value": "\"backtest_equity\".\"cash\"::numeric >= 0"
        },
        "positive_equity": {
          "name": "positive_equity",
          "value": "\"backtest_equity\".\"equity\"::numeric > 0"
        },
        "non_negative_drawdown": {
          "name": "non_negative_drawdown",
          "value": "\"backtest_equity\".\"drawdown\" IS NULL OR \"backtest_equity\".\"drawdown\"::numeric >= 0"
        },
        "valid_drawdown_pct": {
          "name": "valid_drawdown_pct",
          "value": "\"backtest_equity\".\"drawdown_pct\" IS NULL OR (\"backtest_equity\".\"drawdown_pct\"::numeric >= 0 AND \"backtest_equity\".\"drawdown_pct\"::numeric <= 1)"
        }
      },
      "isRLSEnabled": false
    },
    "public.backtest_trades": {
      "name": "backtest_trades",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "backtest_id": {
          "name": "backtest_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "qty": {
          "name": "qty",
          "type": "numeric(14, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "price": {
          "name": "price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "commission": {
          "name": "commission",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "pnl": {
          "name": "pnl",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pnl_pct": {
          "name": "pnl_pct",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "decision_rationale": {
          "name": "decision_rationale",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_backtest_trades_backtest_id": {
          "name": "idx_backtest_trades_backtest_id",
          "columns": [
            {
              "expression": "backtest_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_backtest_trades_timestamp": {
          "name": "idx_backtest_trades_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_backtest_trades_symbol": {
          "name": "idx_backtest_trades_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_backtest_trades_bt_ts": {
          "name": "idx_backtest_trades_bt_ts",
          "columns": [
            {
              "expression": "backtest_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "backtest_trades_backtest_id_backtests_id_fk": {
          "name": "backtest_trades_backtest_id_backtests_id_fk",
          "tableFrom": "backtest_trades",
          "tableTo": "backtests",
          "columnsFrom": [
            "backtest_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "positive_qty": {
          "name": "positive_qty",
          "value": "\"backtest_trades\".\"qty\"::numeric > 0"
        },
        "positive_price": {
          "name": "positive_price",
          "value": "\"backtest_trades\".\"price\"::numeric > 0"
        },
        "non_negative_commission": {
          "name": "non_negative_commission",
          "value": "\"backtest_trades\".\"commission\" IS NULL OR \"backtest_trades\".\"commission\"::numeric >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.backtests": {
      "name": "backtests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "initial_capital": {
          "name": "initial_capital",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "universe": {
          "name": "universe",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "config_json": {
          "name": "config_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "backtest_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "progress_pct": {
          "name": "progress_pct",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_return": {
          "name": "total_return",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "cagr": {
          "name": "cagr",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "sharpe_ratio": {
          "name": "sharpe_ratio",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "sortino_ratio": {
          "name": "sortino_ratio",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "calmar_ratio": {
          "name": "calmar_ratio",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "max_drawdown": {
          "name": "max_drawdown",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "win_rate": {
          "name": "win_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "profit_factor": {
          "name": "profit_factor",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "total_trades": {
          "name": "total_trades",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "avg_trade_pnl": {
          "name": "avg_trade_pnl",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "metrics_json": {
          "name": "metrics_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_backtests_status": {
          "name": "idx_backtests_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_backtests_start_date": {
          "name": "idx_backtests_start_date",
          "columns": [
            {
              "expression": "start_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_backtests_created_at": {
          "name": "idx_backtests_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "positive_capital": {
          "name": "positive_capital",
          "value": "\"backtests\".\"initial_capital\"::numeric > 0"
        },
        "valid_date_range": {
          "name": "valid_date_range",
          "value": "\"backtests\".\"end_date\" > \"backtests\".\"start_date\""
        },
        "valid_win_rate": {
          "name": "valid_win_rate",
          "value": "\"backtests\".\"win_rate\" IS NULL OR (\"backtests\".\"win_rate\"::numeric >= 0 AND \"backtests\".\"win_rate\"::numeric <= 1)"
        },
        "valid_max_drawdown": {
          "name": "valid_max_drawdown",
          "value": "\"backtests\".\"max_drawdown\" IS NULL OR (\"backtests\".\"max_drawdown\"::numeric >= 0 AND \"backtests\".\"max_drawdown\"::numeric <= 1)"
        },
        "non_negative_trades": {
          "name": "non_negative_trades",
          "value": "\"backtests\".\"total_trades\" IS NULL OR \"backtests\".\"total_trades\" >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.candles": {
      "name": "candles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timeframe": {
          "name": "timeframe",
          "type": "timeframe",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "open": {
          "name": "open",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "high": {
          "name": "high",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "low": {
          "name": "low",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "close": {
          "name": "close",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "volume": {
          "name": "volume",
          "type": "numeric(18, 0)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "vwap": {
          "name": "vwap",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "trade_count": {
          "name": "trade_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "adjusted": {
          "name": "adjusted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "split_adjusted": {
          "name": "split_adjusted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "dividend_adjusted": {
          "name": "dividend_adjusted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "quality_flags": {
          "name": "quality_flags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'alpaca'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_candles_symbol_timeframe_ts": {
          "name": "idx_candles_symbol_timeframe_ts",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timeframe",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_candles_timestamp": {
          "name": "idx_candles_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_candles_symbol": {
          "name": "idx_candles_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_candles_timeframe": {
          "name": "idx_candles_timeframe",
          "columns": [
            {
              "expression": "timeframe",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "valid_ohlc": {
          "name": "valid_ohlc",
          "value": "\"candles\".\"high\"::numeric >= \"candles\".\"low\"::numeric AND\n          \"candles\".\"high\"::numeric >= \"candles\".\"open\"::numeric AND\n          \"candles\".\"high\"::numeric >= \"candles\".\"close\"::numeric AND\n          \"candles\".\"low\"::numeric <= \"candles\".\"open\"::numeric AND\n          \"candles\".\"low\"::numeric <= \"candles\".\"close\"::numeric"
        },
        "positive_volume": {
          "name": "positive_volume",
          "value": "\"candles\".\"volume\"::numeric >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.config_versions": {
      "name": "config_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "config_json": {
          "name": "config_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "activated_at": {
          "name": "activated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deactivated_at": {
          "name": "deactivated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_config_versions_environment": {
          "name": "idx_config_versions_environment",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_config_versions_active": {
          "name": "idx_config_versions_active",
          "columns": [
            {
              "expression": "active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_config_versions_created_at": {
          "name": "idx_config_versions_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_config_versions_env_active": {
          "name": "idx_config_versions_env_active",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"config_versions\".\"active\" = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.constraints_config": {
      "name": "constraints_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "max_shares": {
          "name": "max_shares",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1000
        },
        "max_contracts": {
          "name": "max_contracts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10
        },
        "max_notional": {
          "name": "max_notional",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'50000'"
        },
        "max_pct_equity": {
          "name": "max_pct_equity",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.1'"
        },
        "max_gross_exposure": {
          "name": "max_gross_exposure",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'2.0'"
        },
        "max_net_exposure": {
          "name": "max_net_exposure",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0'"
        },
        "max_concentration": {
          "name": "max_concentration",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.25'"
        },
        "max_correlation": {
          "name": "max_correlation",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.7'"
        },
        "max_drawdown": {
          "name": "max_drawdown",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.15'"
        },
        "max_delta": {
          "name": "max_delta",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'100'"
        },
        "max_gamma": {
          "name": "max_gamma",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'50'"
        },
        "max_vega": {
          "name": "max_vega",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1000'"
        },
        "max_theta": {
          "name": "max_theta",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'500'"
        },
        "status": {
          "name": "status",
          "type": "config_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_constraints_config_environment": {
          "name": "idx_constraints_config_environment",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_constraints_config_status": {
          "name": "idx_constraints_config_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_constraints_config_env_status": {
          "name": "idx_constraints_config_env_status",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_constraints_config_env_active": {
          "name": "idx_constraints_config_env_active",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"constraints_config\".\"status\" = 'active'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "valid_exposure": {
          "name": "valid_exposure",
          "value": "\"constraints_config\".\"max_gross_exposure\"::numeric > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.corporate_actions": {
      "name": "corporate_actions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action_type": {
          "name": "action_type",
          "type": "corporate_action_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "ex_date": {
          "name": "ex_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "record_date": {
          "name": "record_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "pay_date": {
          "name": "pay_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ratio": {
          "name": "ratio",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'alpaca'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_corporate_actions_symbol_date": {
          "name": "idx_corporate_actions_symbol_date",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "ex_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_corporate_actions_ex_date": {
          "name": "idx_corporate_actions_ex_date",
          "columns": [
            {
              "expression": "ex_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_corporate_actions_type": {
          "name": "idx_corporate_actions_type",
          "columns": [
            {
              "expression": "action_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_corporate_actions_unique": {
          "name": "idx_corporate_actions_unique",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "action_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "ex_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.corporate_actions_indicators": {
      "name": "corporate_actions_indicators",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "trailing_dividend_yield": {
          "name": "trailing_dividend_yield",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "ex_dividend_days": {
          "name": "ex_dividend_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "upcoming_earnings_days": {
          "name": "upcoming_earnings_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recent_split": {
          "name": "recent_split",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "split_ratio": {
          "name": "split_ratio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_corp_actions_symbol": {
          "name": "idx_corp_actions_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_corp_actions_symbol_only": {
          "name": "idx_corp_actions_symbol_only",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "corp_actions_indicators_symbol_date": {
          "name": "corp_actions_indicators_symbol_date",
          "nullsNotDistinct": false,
          "columns": [
            "symbol",
            "date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cycle_events": {
      "name": "cycle_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "cycle_id": {
          "name": "cycle_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "cycle_event_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "phase": {
          "name": "phase",
          "type": "cycle_phase",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "agent_type": {
          "name": "agent_type",
          "type": "agent_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data_json": {
          "name": "data_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_cycle_events_cycle_id": {
          "name": "idx_cycle_events_cycle_id",
          "columns": [
            {
              "expression": "cycle_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cycle_events_type": {
          "name": "idx_cycle_events_type",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cycle_events_timestamp": {
          "name": "idx_cycle_events_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cycle_events_agent": {
          "name": "idx_cycle_events_agent",
          "columns": [
            {
              "expression": "cycle_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agent_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cycle_events_agent_event": {
          "name": "idx_cycle_events_agent_event",
          "columns": [
            {
              "expression": "cycle_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agent_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "cycle_events_cycle_id_cycles_id_fk": {
          "name": "cycle_events_cycle_id_cycles_id_fk",
          "tableFrom": "cycle_events",
          "tableTo": "cycles",
          "columnsFrom": [
            "cycle_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cycles": {
      "name": "cycles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "cycle_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'running'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "current_phase": {
          "name": "current_phase",
          "type": "cycle_phase",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "phase_started_at": {
          "name": "phase_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "total_symbols": {
          "name": "total_symbols",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completed_symbols": {
          "name": "completed_symbols",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "progress_pct": {
          "name": "progress_pct",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "approved": {
          "name": "approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "iterations": {
          "name": "iterations",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "decisions_count": {
          "name": "decisions_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "orders_count": {
          "name": "orders_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "decisions_json": {
          "name": "decisions_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "orders_json": {
          "name": "orders_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_stack": {
          "name": "error_stack",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "config_version": {
          "name": "config_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_cycles_environment": {
          "name": "idx_cycles_environment",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cycles_status": {
          "name": "idx_cycles_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cycles_started_at": {
          "name": "idx_cycles_started_at",
          "columns": [
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cycles_env_status": {
          "name": "idx_cycles_env_status",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cycles_env_started": {
          "name": "idx_cycles_env_started",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.decisions": {
      "name": "decisions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "cycle_id": {
          "name": "cycle_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "decision_action",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "direction": {
          "name": "direction",
          "type": "decision_direction",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "size": {
          "name": "size",
          "type": "numeric(14, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "size_unit": {
          "name": "size_unit",
          "type": "size_unit",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'SHARES'"
        },
        "entry_price": {
          "name": "entry_price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "stop_loss": {
          "name": "stop_loss",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "take_profit": {
          "name": "take_profit",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "stop_price": {
          "name": "stop_price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "target_price": {
          "name": "target_price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "strategy_family": {
          "name": "strategy_family",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "time_horizon": {
          "name": "time_horizon",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bullish_factors": {
          "name": "bullish_factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "bearish_factors": {
          "name": "bearish_factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "risk_score": {
          "name": "risk_score",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "decision_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "rationale": {
          "name": "rationale",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "executed_at": {
          "name": "executed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_decisions_cycle_id": {
          "name": "idx_decisions_cycle_id",
          "columns": [
            {
              "expression": "cycle_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_decisions_symbol": {
          "name": "idx_decisions_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_decisions_status": {
          "name": "idx_decisions_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_decisions_created_at": {
          "name": "idx_decisions_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_decisions_symbol_created": {
          "name": "idx_decisions_symbol_created",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_decisions_environment": {
          "name": "idx_decisions_environment",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "positive_size": {
          "name": "positive_size",
          "value": "\"decisions\".\"size\"::numeric > 0"
        },
        "valid_confidence": {
          "name": "valid_confidence",
          "value": "\"decisions\".\"confidence_score\" IS NULL OR (\"decisions\".\"confidence_score\"::numeric >= 0 AND \"decisions\".\"confidence_score\"::numeric <= 1)"
        },
        "valid_risk": {
          "name": "valid_risk",
          "value": "\"decisions\".\"risk_score\" IS NULL OR (\"decisions\".\"risk_score\"::numeric >= 0 AND \"decisions\".\"risk_score\"::numeric <= 1)"
        }
      },
      "isRLSEnabled": false
    },
    "public.execution_order_snapshots": {
      "name": "execution_order_snapshots",
      "schema": "",
      "columns": {
        "order_id": {
          "name": "order_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "broker_order_id": {
          "name": "broker_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "instrument_id": {
          "name": "instrument_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "side": {
          "name": "side",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order_type": {
          "name": "order_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "time_in_force": {
          "name": "time_in_force",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requested_quantity": {
          "name": "requested_quantity",
          "type": "numeric(14, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "filled_quantity": {
          "name": "filled_quantity",
          "type": "numeric(14, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "avg_fill_price": {
          "name": "avg_fill_price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "limit_price": {
          "name": "limit_price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "stop_price": {
          "name": "stop_price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_update_at": {
          "name": "last_update_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status_message": {
          "name": "status_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_multi_leg": {
          "name": "is_multi_leg",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_exec_order_snapshots_broker_id": {
          "name": "idx_exec_order_snapshots_broker_id",
          "columns": [
            {
              "expression": "broker_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_exec_order_snapshots_env_status": {
          "name": "idx_exec_order_snapshots_env_status",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.execution_position_snapshots": {
      "name": "execution_position_snapshots",
      "schema": "",
      "columns": {
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(14, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "avg_entry_price": {
          "name": "avg_entry_price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_exec_position_snapshots_env": {
          "name": "idx_exec_position_snapshots_env",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.execution_recovery_state": {
      "name": "execution_recovery_state",
      "schema": "",
      "columns": {
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": true,
          "notNull": true
        },
        "last_snapshot_at": {
          "name": "last_snapshot_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_reconciliation_at": {
          "name": "last_reconciliation_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_cycle_id": {
          "name": "last_cycle_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "execution_recovery_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'unknown'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.external_events": {
      "name": "external_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "source_type": {
          "name": "source_type",
          "type": "external_event_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_time": {
          "name": "event_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "sentiment": {
          "name": "sentiment",
          "type": "sentiment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "importance": {
          "name": "importance",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key_insights": {
          "name": "key_insights",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "entities": {
          "name": "entities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "data_points": {
          "name": "data_points",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "sentiment_score": {
          "name": "sentiment_score",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "importance_score": {
          "name": "importance_score",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "surprise_score": {
          "name": "surprise_score",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "related_instruments": {
          "name": "related_instruments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "original_content": {
          "name": "original_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_external_events_event_time": {
          "name": "idx_external_events_event_time",
          "columns": [
            {
              "expression": "event_time",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_external_events_source_type": {
          "name": "idx_external_events_source_type",
          "columns": [
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_external_events_event_type": {
          "name": "idx_external_events_event_type",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_external_events_processed_at": {
          "name": "idx_external_events_processed_at",
          "columns": [
            {
              "expression": "processed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_external_events_sentiment": {
          "name": "idx_external_events_sentiment",
          "columns": [
            {
              "expression": "sentiment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_external_events_importance": {
          "name": "idx_external_events_importance",
          "columns": [
            {
              "expression": "importance_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "valid_confidence": {
          "name": "valid_confidence",
          "value": "\"external_events\".\"confidence\"::numeric >= 0 AND \"external_events\".\"confidence\"::numeric <= 1"
        },
        "valid_importance": {
          "name": "valid_importance",
          "value": "\"external_events\".\"importance\" >= 1 AND \"external_events\".\"importance\" <= 10"
        },
        "valid_sentiment_score": {
          "name": "valid_sentiment_score",
          "value": "\"external_events\".\"sentiment_score\"::numeric >= -1 AND \"external_events\".\"sentiment_score\"::numeric <= 1"
        },
        "valid_importance_score": {
          "name": "valid_importance_score",
          "value": "\"external_events\".\"importance_score\"::numeric >= 0 AND \"external_events\".\"importance_score\"::numeric <= 1"
        },
        "valid_surprise_score": {
          "name": "valid_surprise_score",
          "value": "\"external_events\".\"surprise_score\"::numeric >= 0 AND \"external_events\".\"surprise_score\"::numeric <= 1"
        }
      },
      "isRLSEnabled": false
    },
    "public.factor_correlations": {
      "name": "factor_correlations",
      "schema": "",
      "columns": {
        "factor_id_1": {
          "name": "factor_id_1",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "factor_id_2": {
          "name": "factor_id_2",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "correlation": {
          "name": "correlation",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "computed_at": {
          "name": "computed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "factor_correlations_factor_id_1_factors_factor_id_fk": {
          "name": "factor_correlations_factor_id_1_factors_factor_id_fk",
          "tableFrom": "factor_correlations",
          "tableTo": "factors",
          "columnsFrom": [
            "factor_id_1"
          ],
          "columnsTo": [
            "factor_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "factor_correlations_factor_id_2_factors_factor_id_fk": {
          "name": "factor_correlations_factor_id_2_factors_factor_id_fk",
          "tableFrom": "factor_correlations",
          "tableTo": "factors",
          "columnsFrom": [
            "factor_id_2"
          ],
          "columnsTo": [
            "factor_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "factor_correlations_factor_id_1_factor_id_2_pk": {
          "name": "factor_correlations_factor_id_1_factor_id_2_pk",
          "columns": [
            "factor_id_1",
            "factor_id_2"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "valid_correlation": {
          "name": "valid_correlation",
          "value": "\"factor_correlations\".\"correlation\"::numeric >= -1 AND \"factor_correlations\".\"correlation\"::numeric <= 1"
        }
      },
      "isRLSEnabled": false
    },
    "public.factor_performance": {
      "name": "factor_performance",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "factor_id": {
          "name": "factor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "ic": {
          "name": "ic",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "icir": {
          "name": "icir",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "sharpe": {
          "name": "sharpe",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "weight": {
          "name": "weight",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.0'"
        },
        "signal_count": {
          "name": "signal_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_factor_perf_factor_date": {
          "name": "idx_factor_perf_factor_date",
          "columns": [
            {
              "expression": "factor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "factor_performance_factor_id_factors_factor_id_fk": {
          "name": "factor_performance_factor_id_factors_factor_id_fk",
          "tableFrom": "factor_performance",
          "tableTo": "factors",
          "columnsFrom": [
            "factor_id"
          ],
          "columnsTo": [
            "factor_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "factor_performance_factor_date": {
          "name": "factor_performance_factor_date",
          "nullsNotDistinct": false,
          "columns": [
            "factor_id",
            "date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "valid_ic": {
          "name": "valid_ic",
          "value": "\"factor_performance\".\"ic\"::numeric >= -1 AND \"factor_performance\".\"ic\"::numeric <= 1"
        },
        "valid_weight": {
          "name": "valid_weight",
          "value": "\"factor_performance\".\"weight\"::numeric >= 0 AND \"factor_performance\".\"weight\"::numeric <= 1"
        },
        "non_negative_signals": {
          "name": "non_negative_signals",
          "value": "\"factor_performance\".\"signal_count\" >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.factor_weights": {
      "name": "factor_weights",
      "schema": "",
      "columns": {
        "factor_id": {
          "name": "factor_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "weight": {
          "name": "weight",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.0'"
        },
        "last_ic": {
          "name": "last_ic",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "factor_weights_factor_id_factors_factor_id_fk": {
          "name": "factor_weights_factor_id_factors_factor_id_fk",
          "tableFrom": "factor_weights",
          "tableTo": "factors",
          "columnsFrom": [
            "factor_id"
          ],
          "columnsTo": [
            "factor_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "valid_weight": {
          "name": "valid_weight",
          "value": "\"factor_weights\".\"weight\"::numeric >= 0 AND \"factor_weights\".\"weight\"::numeric <= 1"
        },
        "valid_last_ic": {
          "name": "valid_last_ic",
          "value": "\"factor_weights\".\"last_ic\" IS NULL OR (\"factor_weights\".\"last_ic\"::numeric >= -1 AND \"factor_weights\".\"last_ic\"::numeric <= 1)"
        }
      },
      "isRLSEnabled": false
    },
    "public.factors": {
      "name": "factors",
      "schema": "",
      "columns": {
        "factor_id": {
          "name": "factor_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "hypothesis_id": {
          "name": "hypothesis_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "factor_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'research'"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "author": {
          "name": "author",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'claude-code'"
        },
        "python_module": {
          "name": "python_module",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "typescript_module": {
          "name": "typescript_module",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "symbolic_length": {
          "name": "symbolic_length",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "parameter_count": {
          "name": "parameter_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "feature_count": {
          "name": "feature_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "originality_score": {
          "name": "originality_score",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "hypothesis_alignment": {
          "name": "hypothesis_alignment",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "stage1_sharpe": {
          "name": "stage1_sharpe",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "stage1_ic": {
          "name": "stage1_ic",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "stage1_max_drawdown": {
          "name": "stage1_max_drawdown",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "stage1_completed_at": {
          "name": "stage1_completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "stage2_pbo": {
          "name": "stage2_pbo",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "stage2_dsr_pvalue": {
          "name": "stage2_dsr_pvalue",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "stage2_wfe": {
          "name": "stage2_wfe",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "stage2_completed_at": {
          "name": "stage2_completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "paper_validation_passed": {
          "name": "paper_validation_passed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "paper_start_date": {
          "name": "paper_start_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "paper_end_date": {
          "name": "paper_end_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "paper_realized_sharpe": {
          "name": "paper_realized_sharpe",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "paper_realized_ic": {
          "name": "paper_realized_ic",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "current_weight": {
          "name": "current_weight",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.0'"
        },
        "last_ic": {
          "name": "last_ic",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "decay_rate": {
          "name": "decay_rate",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "target_regimes": {
          "name": "target_regimes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "parity_report": {
          "name": "parity_report",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parity_validated_at": {
          "name": "parity_validated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "promoted_at": {
          "name": "promoted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "retired_at": {
          "name": "retired_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_factors_status": {
          "name": "idx_factors_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_factors_hypothesis": {
          "name": "idx_factors_hypothesis",
          "columns": [
            {
              "expression": "hypothesis_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_factors_active": {
          "name": "idx_factors_active",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"factors\".\"status\" IN ('active', 'decaying')",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "factors_hypothesis_id_hypotheses_hypothesis_id_fk": {
          "name": "factors_hypothesis_id_hypotheses_hypothesis_id_fk",
          "tableFrom": "factors",
          "tableTo": "hypotheses",
          "columnsFrom": [
            "hypothesis_id"
          ],
          "columnsTo": [
            "hypothesis_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "factors_name_unique": {
          "name": "factors_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "positive_version": {
          "name": "positive_version",
          "value": "\"factors\".\"version\" >= 1"
        },
        "valid_originality": {
          "name": "valid_originality",
          "value": "\"factors\".\"originality_score\" IS NULL OR (\"factors\".\"originality_score\"::numeric >= 0 AND \"factors\".\"originality_score\"::numeric <= 1)"
        },
        "valid_alignment": {
          "name": "valid_alignment",
          "value": "\"factors\".\"hypothesis_alignment\" IS NULL OR (\"factors\".\"hypothesis_alignment\"::numeric >= 0 AND \"factors\".\"hypothesis_alignment\"::numeric <= 1)"
        },
        "valid_stage1_ic": {
          "name": "valid_stage1_ic",
          "value": "\"factors\".\"stage1_ic\" IS NULL OR (\"factors\".\"stage1_ic\"::numeric >= -1 AND \"factors\".\"stage1_ic\"::numeric <= 1)"
        },
        "valid_stage1_drawdown": {
          "name": "valid_stage1_drawdown",
          "value": "\"factors\".\"stage1_max_drawdown\" IS NULL OR (\"factors\".\"stage1_max_drawdown\"::numeric >= 0 AND \"factors\".\"stage1_max_drawdown\"::numeric <= 1)"
        },
        "valid_current_weight": {
          "name": "valid_current_weight",
          "value": "\"factors\".\"current_weight\"::numeric >= 0 AND \"factors\".\"current_weight\"::numeric <= 1"
        },
        "valid_last_ic": {
          "name": "valid_last_ic",
          "value": "\"factors\".\"last_ic\" IS NULL OR (\"factors\".\"last_ic\"::numeric >= -1 AND \"factors\".\"last_ic\"::numeric <= 1)"
        },
        "non_negative_decay": {
          "name": "non_negative_decay",
          "value": "\"factors\".\"decay_rate\" IS NULL OR \"factors\".\"decay_rate\"::numeric >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.features": {
      "name": "features",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "timeframe": {
          "name": "timeframe",
          "type": "timeframe",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "indicator_name": {
          "name": "indicator_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "raw_value": {
          "name": "raw_value",
          "type": "numeric(18, 8)",
          "primaryKey": false,
          "notNull": true
        },
        "normalized_value": {
          "name": "normalized_value",
          "type": "numeric(8, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "parameters": {
          "name": "parameters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "quality_score": {
          "name": "quality_score",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "computed_at": {
          "name": "computed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_features_symbol_ts_indicator": {
          "name": "idx_features_symbol_ts_indicator",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timeframe",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "indicator_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_features_symbol_indicator_ts": {
          "name": "idx_features_symbol_indicator_ts",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "indicator_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_features_timestamp": {
          "name": "idx_features_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_features_indicator": {
          "name": "idx_features_indicator",
          "columns": [
            {
              "expression": "indicator_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "valid_quality_score": {
          "name": "valid_quality_score",
          "value": "\"features\".\"quality_score\" IS NULL OR (\"features\".\"quality_score\"::numeric >= 0 AND \"features\".\"quality_score\"::numeric <= 1)"
        }
      },
      "isRLSEnabled": false
    },
    "public.filing_sync_runs": {
      "name": "filing_sync_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "symbols_requested": {
          "name": "symbols_requested",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "filing_types": {
          "name": "filing_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "date_range_start": {
          "name": "date_range_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "date_range_end": {
          "name": "date_range_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "symbols_total": {
          "name": "symbols_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "symbols_processed": {
          "name": "symbols_processed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "filings_fetched": {
          "name": "filings_fetched",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "filings_ingested": {
          "name": "filings_ingested",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "chunks_created": {
          "name": "chunks_created",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "sync_run_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'running'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_source": {
          "name": "trigger_source",
          "type": "sync_trigger_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_filing_sync_runs_started_at": {
          "name": "idx_filing_sync_runs_started_at",
          "columns": [
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_filing_sync_runs_status": {
          "name": "idx_filing_sync_runs_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_filing_sync_runs_environment": {
          "name": "idx_filing_sync_runs_environment",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_filing_sync_runs_trigger": {
          "name": "idx_filing_sync_runs_trigger",
          "columns": [
            {
              "expression": "trigger_source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.filings": {
      "name": "filings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "accession_number": {
          "name": "accession_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "filing_type": {
          "name": "filing_type",
          "type": "filing_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "filed_date": {
          "name": "filed_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "report_date": {
          "name": "report_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cik": {
          "name": "cik",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "section_count": {
          "name": "section_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "chunk_count": {
          "name": "chunk_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "filing_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ingested_at": {
          "name": "ingested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_filings_symbol": {
          "name": "idx_filings_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_filings_filing_type": {
          "name": "idx_filings_filing_type",
          "columns": [
            {
              "expression": "filing_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_filings_filed_date": {
          "name": "idx_filings_filed_date",
          "columns": [
            {
              "expression": "filed_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_filings_status": {
          "name": "idx_filings_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_filings_symbol_type": {
          "name": "idx_filings_symbol_type",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "filing_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_filings_symbol_date": {
          "name": "idx_filings_symbol_date",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "filed_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "filings_accession_number_unique": {
          "name": "filings_accession_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "accession_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fundamental_indicators": {
      "name": "fundamental_indicators",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "pe_ratio_ttm": {
          "name": "pe_ratio_ttm",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pe_ratio_forward": {
          "name": "pe_ratio_forward",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pb_ratio": {
          "name": "pb_ratio",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "ev_ebitda": {
          "name": "ev_ebitda",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "earnings_yield": {
          "name": "earnings_yield",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "dividend_yield": {
          "name": "dividend_yield",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "cape_10yr": {
          "name": "cape_10yr",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "gross_profitability": {
          "name": "gross_profitability",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "roe": {
          "name": "roe",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "roa": {
          "name": "roa",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "asset_growth": {
          "name": "asset_growth",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "accruals_ratio": {
          "name": "accruals_ratio",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "cash_flow_quality": {
          "name": "cash_flow_quality",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "beneish_m_score": {
          "name": "beneish_m_score",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "market_cap": {
          "name": "market_cap",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "sector": {
          "name": "sector",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "industry": {
          "name": "industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'computed'"
        },
        "computed_at": {
          "name": "computed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_fundamental_symbol_date": {
          "name": "idx_fundamental_symbol_date",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fundamental_symbol": {
          "name": "idx_fundamental_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fundamental_indicators_symbol_date": {
          "name": "fundamental_indicators_symbol_date",
          "nullsNotDistinct": false,
          "columns": [
            "symbol",
            "date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.hypotheses": {
      "name": "hypotheses",
      "schema": "",
      "columns": {
        "hypothesis_id": {
          "name": "hypothesis_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "economic_rationale": {
          "name": "economic_rationale",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "market_mechanism": {
          "name": "market_mechanism",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_regime": {
          "name": "target_regime",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "falsification_criteria": {
          "name": "falsification_criteria",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "hypothesis_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'proposed'"
        },
        "iteration": {
          "name": "iteration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "parent_hypothesis_id": {
          "name": "parent_hypothesis_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_hypotheses_status": {
          "name": "idx_hypotheses_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_hypotheses_parent": {
          "name": "idx_hypotheses_parent",
          "columns": [
            {
              "expression": "parent_hypothesis_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.index_constituents": {
      "name": "index_constituents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "index_id": {
          "name": "index_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "date_added": {
          "name": "date_added",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "date_removed": {
          "name": "date_removed",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reason_added": {
          "name": "reason_added",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason_removed": {
          "name": "reason_removed",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sector": {
          "name": "sector",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "industry": {
          "name": "industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "market_cap_at_add": {
          "name": "market_cap_at_add",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'alpaca'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_index_constituents_pit": {
          "name": "idx_index_constituents_pit",
          "columns": [
            {
              "expression": "index_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date_added",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date_removed",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_index_constituents_symbol": {
          "name": "idx_index_constituents_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "index_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_index_constituents_current": {
          "name": "idx_index_constituents_current",
          "columns": [
            {
              "expression": "index_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date_removed",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_index_constituents_unique": {
          "name": "idx_index_constituents_unique",
          "columns": [
            {
              "expression": "index_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date_added",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.indicator_ic_history": {
      "name": "indicator_ic_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "indicator_id": {
          "name": "indicator_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "ic_value": {
          "name": "ic_value",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "ic_std": {
          "name": "ic_std",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "decisions_used_in": {
          "name": "decisions_used_in",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "decisions_correct": {
          "name": "decisions_correct",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ic_history_indicator_date": {
          "name": "idx_ic_history_indicator_date",
          "columns": [
            {
              "expression": "indicator_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "indicator_ic_history_indicator_id_indicators_id_fk": {
          "name": "indicator_ic_history_indicator_id_indicators_id_fk",
          "tableFrom": "indicator_ic_history",
          "tableTo": "indicators",
          "columnsFrom": [
            "indicator_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "indicator_ic_history_indicator_date": {
          "name": "indicator_ic_history_indicator_date",
          "nullsNotDistinct": false,
          "columns": [
            "indicator_id",
            "date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "valid_ic_value": {
          "name": "valid_ic_value",
          "value": "\"indicator_ic_history\".\"ic_value\"::numeric >= -1 AND \"indicator_ic_history\".\"ic_value\"::numeric <= 1"
        },
        "non_negative_ic_std": {
          "name": "non_negative_ic_std",
          "value": "\"indicator_ic_history\".\"ic_std\"::numeric >= 0"
        },
        "non_negative_decisions": {
          "name": "non_negative_decisions",
          "value": "\"indicator_ic_history\".\"decisions_used_in\" >= 0"
        },
        "non_negative_correct": {
          "name": "non_negative_correct",
          "value": "\"indicator_ic_history\".\"decisions_correct\" >= 0"
        },
        "correct_lte_used": {
          "name": "correct_lte_used",
          "value": "\"indicator_ic_history\".\"decisions_correct\" <= \"indicator_ic_history\".\"decisions_used_in\""
        }
      },
      "isRLSEnabled": false
    },
    "public.indicator_paper_signals": {
      "name": "indicator_paper_signals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "indicator_id": {
          "name": "indicator_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "signal_date": {
          "name": "signal_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "signal": {
          "name": "signal",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "outcome": {
          "name": "outcome",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "outcome_date": {
          "name": "outcome_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ind_paper_signals_indicator": {
          "name": "idx_ind_paper_signals_indicator",
          "columns": [
            {
              "expression": "indicator_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ind_paper_signals_symbol": {
          "name": "idx_ind_paper_signals_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ind_paper_signals_date": {
          "name": "idx_ind_paper_signals_date",
          "columns": [
            {
              "expression": "signal_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "indicator_paper_signals_indicator_id_indicators_id_fk": {
          "name": "indicator_paper_signals_indicator_id_indicators_id_fk",
          "tableFrom": "indicator_paper_signals",
          "tableTo": "indicators",
          "columnsFrom": [
            "indicator_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "indicator_paper_signals_unique": {
          "name": "indicator_paper_signals_unique",
          "nullsNotDistinct": false,
          "columns": [
            "indicator_id",
            "symbol",
            "signal_date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.indicator_sync_runs": {
      "name": "indicator_sync_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "run_type": {
          "name": "run_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "symbols_processed": {
          "name": "symbols_processed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "symbols_failed": {
          "name": "symbols_failed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "sync_run_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'running'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_indicator_sync_runs_type": {
          "name": "idx_indicator_sync_runs_type",
          "columns": [
            {
              "expression": "run_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_indicator_sync_runs_status": {
          "name": "idx_indicator_sync_runs_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_indicator_sync_runs_started": {
          "name": "idx_indicator_sync_runs_started",
          "columns": [
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.indicator_trials": {
      "name": "indicator_trials",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "indicator_id": {
          "name": "indicator_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "trial_number": {
          "name": "trial_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "hypothesis": {
          "name": "hypothesis",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parameters": {
          "name": "parameters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "sharpe_ratio": {
          "name": "sharpe_ratio",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "information_coefficient": {
          "name": "information_coefficient",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "max_drawdown": {
          "name": "max_drawdown",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "calmar_ratio": {
          "name": "calmar_ratio",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "sortino_ratio": {
          "name": "sortino_ratio",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "selected": {
          "name": "selected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_trials_indicator": {
          "name": "idx_trials_indicator",
          "columns": [
            {
              "expression": "indicator_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "indicator_trials_indicator_id_indicators_id_fk": {
          "name": "indicator_trials_indicator_id_indicators_id_fk",
          "tableFrom": "indicator_trials",
          "tableTo": "indicators",
          "columnsFrom": [
            "indicator_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "indicator_trials_indicator_trial": {
          "name": "indicator_trials_indicator_trial",
          "nullsNotDistinct": false,
          "columns": [
            "indicator_id",
            "trial_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "valid_ic": {
          "name": "valid_ic",
          "value": "\"indicator_trials\".\"information_coefficient\" IS NULL OR (\"indicator_trials\".\"information_coefficient\"::numeric >= -1 AND \"indicator_trials\".\"information_coefficient\"::numeric <= 1)"
        },
        "valid_max_drawdown": {
          "name": "valid_max_drawdown",
          "value": "\"indicator_trials\".\"max_drawdown\" IS NULL OR (\"indicator_trials\".\"max_drawdown\"::numeric >= 0 AND \"indicator_trials\".\"max_drawdown\"::numeric <= 1)"
        },
        "positive_trial": {
          "name": "positive_trial",
          "value": "\"indicator_trials\".\"trial_number\" >= 1"
        }
      },
      "isRLSEnabled": false
    },
    "public.indicators": {
      "name": "indicators",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "indicator_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "indicator_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'staging'"
        },
        "hypothesis": {
          "name": "hypothesis",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "economic_rationale": {
          "name": "economic_rationale",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "generated_by": {
          "name": "generated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code_hash": {
          "name": "code_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ast_signature": {
          "name": "ast_signature",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "validation_report": {
          "name": "validation_report",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "paper_trading_start": {
          "name": "paper_trading_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "paper_trading_end": {
          "name": "paper_trading_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "paper_trading_report": {
          "name": "paper_trading_report",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "promoted_at": {
          "name": "promoted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "pr_url": {
          "name": "pr_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "merged_at": {
          "name": "merged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "retired_at": {
          "name": "retired_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "retirement_reason": {
          "name": "retirement_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "similar_to": {
          "name": "similar_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "replaces": {
          "name": "replaces",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "parity_report": {
          "name": "parity_report",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parity_validated_at": {
          "name": "parity_validated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_indicators_status": {
          "name": "idx_indicators_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_indicators_category": {
          "name": "idx_indicators_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_indicators_code_hash": {
          "name": "idx_indicators_code_hash",
          "columns": [
            {
              "expression": "code_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_indicators_similar_to": {
          "name": "idx_indicators_similar_to",
          "columns": [
            {
              "expression": "similar_to",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_indicators_replaces": {
          "name": "idx_indicators_replaces",
          "columns": [
            {
              "expression": "replaces",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_indicators_active": {
          "name": "idx_indicators_active",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"indicators\".\"status\" IN ('paper', 'production')",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "indicators_name_unique": {
          "name": "indicators_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.macro_watch_entries": {
      "name": "macro_watch_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "session": {
          "name": "session",
          "type": "macro_watch_session",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "macro_watch_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "headline": {
          "name": "headline",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "symbols": {
          "name": "symbols",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_macro_watch_timestamp": {
          "name": "idx_macro_watch_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_macro_watch_category": {
          "name": "idx_macro_watch_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_macro_watch_session": {
          "name": "idx_macro_watch_session",
          "columns": [
            {
              "expression": "session",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.morning_newspapers": {
      "name": "morning_newspapers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "date": {
          "name": "date",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "compiled_at": {
          "name": "compiled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "sections": {
          "name": "sections",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "raw_entry_ids": {
          "name": "raw_entry_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_morning_newspapers_date": {
          "name": "idx_morning_newspapers_date",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "morning_newspapers_date_unique": {
          "name": "morning_newspapers_date_unique",
          "nullsNotDistinct": false,
          "columns": [
            "date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.options_indicators_cache": {
      "name": "options_indicators_cache",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "implied_volatility": {
          "name": "implied_volatility",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "iv_percentile_30d": {
          "name": "iv_percentile_30d",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "iv_skew": {
          "name": "iv_skew",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "put_call_ratio": {
          "name": "put_call_ratio",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "vrp": {
          "name": "vrp",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "term_structure_slope": {
          "name": "term_structure_slope",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "net_delta": {
          "name": "net_delta",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "net_gamma": {
          "name": "net_gamma",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "net_theta": {
          "name": "net_theta",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "net_vega": {
          "name": "net_vega",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_options_cache_symbol": {
          "name": "idx_options_cache_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_options_cache_expires": {
          "name": "idx_options_cache_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "options_indicators_cache_symbol_unique": {
          "name": "options_indicators_cache_symbol_unique",
          "nullsNotDistinct": false,
          "columns": [
            "symbol"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.orders": {
      "name": "orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "decision_id": {
          "name": "decision_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "side": {
          "name": "side",
          "type": "order_side",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "qty": {
          "name": "qty",
          "type": "numeric(14, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "order_type": {
          "name": "order_type",
          "type": "order_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "limit_price": {
          "name": "limit_price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "stop_price": {
          "name": "stop_price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "time_in_force": {
          "name": "time_in_force",
          "type": "time_in_force",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'day'"
        },
        "status": {
          "name": "status",
          "type": "order_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "broker_order_id": {
          "name": "broker_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "filled_qty": {
          "name": "filled_qty",
          "type": "numeric(14, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "filled_avg_price": {
          "name": "filled_avg_price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "commission": {
          "name": "commission",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "filled_at": {
          "name": "filled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_orders_decision_id": {
          "name": "idx_orders_decision_id",
          "columns": [
            {
              "expression": "decision_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_orders_symbol": {
          "name": "idx_orders_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_orders_status": {
          "name": "idx_orders_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_orders_broker_order_id": {
          "name": "idx_orders_broker_order_id",
          "columns": [
            {
              "expression": "broker_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_orders_created_at": {
          "name": "idx_orders_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_orders_environment": {
          "name": "idx_orders_environment",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "orders_decision_id_decisions_id_fk": {
          "name": "orders_decision_id_decisions_id_fk",
          "tableFrom": "orders",
          "tableTo": "decisions",
          "columnsFrom": [
            "decision_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "positive_quantity": {
          "name": "positive_quantity",
          "value": "\"orders\".\"qty\"::numeric > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.paper_signals": {
      "name": "paper_signals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "factor_id": {
          "name": "factor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "signal_date": {
          "name": "signal_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "signal_value": {
          "name": "signal_value",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "direction": {
          "name": "direction",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entry_price": {
          "name": "entry_price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "exit_price": {
          "name": "exit_price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "actual_return": {
          "name": "actual_return",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "predicted_return": {
          "name": "predicted_return",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_paper_signals_factor": {
          "name": "idx_paper_signals_factor",
          "columns": [
            {
              "expression": "factor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_paper_signals_date": {
          "name": "idx_paper_signals_date",
          "columns": [
            {
              "expression": "signal_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_paper_signals_factor_date": {
          "name": "idx_paper_signals_factor_date",
          "columns": [
            {
              "expression": "factor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "signal_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "paper_signals_factor_id_factors_factor_id_fk": {
          "name": "paper_signals_factor_id_factors_factor_id_fk",
          "tableFrom": "paper_signals",
          "tableTo": "factors",
          "columnsFrom": [
            "factor_id"
          ],
          "columnsTo": [
            "factor_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "paper_signals_factor_date_symbol": {
          "name": "paper_signals_factor_date_symbol",
          "nullsNotDistinct": false,
          "columns": [
            "factor_id",
            "signal_date",
            "symbol"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "positive_entry": {
          "name": "positive_entry",
          "value": "\"paper_signals\".\"entry_price\" IS NULL OR \"paper_signals\".\"entry_price\"::numeric > 0"
        },
        "positive_exit": {
          "name": "positive_exit",
          "value": "\"paper_signals\".\"exit_price\" IS NULL OR \"paper_signals\".\"exit_price\"::numeric > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.parity_validation_history": {
      "name": "parity_validation_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "parity_entity_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "passed": {
          "name": "passed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "recommendation": {
          "name": "recommendation",
          "type": "parity_recommendation",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "blocking_issues": {
          "name": "blocking_issues",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "warnings": {
          "name": "warnings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "full_report": {
          "name": "full_report",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "validated_at": {
          "name": "validated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_parity_history_entity": {
          "name": "idx_parity_history_entity",
          "columns": [
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_parity_history_environment": {
          "name": "idx_parity_history_environment",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_parity_history_passed": {
          "name": "idx_parity_history_passed",
          "columns": [
            {
              "expression": "passed",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_parity_history_validated_at": {
          "name": "idx_parity_history_validated_at",
          "columns": [
            {
              "expression": "validated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.portfolio_snapshots": {
      "name": "portfolio_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "nav": {
          "name": "nav",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "cash": {
          "name": "cash",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "equity": {
          "name": "equity",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "gross_exposure": {
          "name": "gross_exposure",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "net_exposure": {
          "name": "net_exposure",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "long_exposure": {
          "name": "long_exposure",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "short_exposure": {
          "name": "short_exposure",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "open_positions": {
          "name": "open_positions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "day_pnl": {
          "name": "day_pnl",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "day_return_pct": {
          "name": "day_return_pct",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "total_return_pct": {
          "name": "total_return_pct",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "max_drawdown": {
          "name": "max_drawdown",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_portfolio_snapshots_timestamp": {
          "name": "idx_portfolio_snapshots_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_portfolio_snapshots_environment": {
          "name": "idx_portfolio_snapshots_environment",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "portfolio_snapshots_timestamp_env": {
          "name": "portfolio_snapshots_timestamp_env",
          "nullsNotDistinct": false,
          "columns": [
            "timestamp",
            "environment"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.position_history": {
      "name": "position_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "position_id": {
          "name": "position_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "price": {
          "name": "price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "qty": {
          "name": "qty",
          "type": "numeric(14, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "unrealized_pnl": {
          "name": "unrealized_pnl",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "market_value": {
          "name": "market_value",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_position_history_position_id": {
          "name": "idx_position_history_position_id",
          "columns": [
            {
              "expression": "position_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_position_history_timestamp": {
          "name": "idx_position_history_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_position_history_position_ts": {
          "name": "idx_position_history_position_ts",
          "columns": [
            {
              "expression": "position_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "position_history_position_id_positions_id_fk": {
          "name": "position_history_position_id_positions_id_fk",
          "tableFrom": "position_history",
          "tableTo": "positions",
          "columnsFrom": [
            "position_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.positions": {
      "name": "positions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "side": {
          "name": "side",
          "type": "position_side",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "qty": {
          "name": "qty",
          "type": "numeric(14, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "avg_entry": {
          "name": "avg_entry",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "current_price": {
          "name": "current_price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "unrealized_pnl": {
          "name": "unrealized_pnl",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "unrealized_pnl_pct": {
          "name": "unrealized_pnl_pct",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "realized_pnl": {
          "name": "realized_pnl",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "market_value": {
          "name": "market_value",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cost_basis": {
          "name": "cost_basis",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "thesis_id": {
          "name": "thesis_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "decision_id": {
          "name": "decision_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "position_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "opened_at": {
          "name": "opened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_positions_symbol": {
          "name": "idx_positions_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_positions_thesis_id": {
          "name": "idx_positions_thesis_id",
          "columns": [
            {
              "expression": "thesis_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_positions_decision_id": {
          "name": "idx_positions_decision_id",
          "columns": [
            {
              "expression": "decision_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_positions_status": {
          "name": "idx_positions_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_positions_environment": {
          "name": "idx_positions_environment",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_positions_symbol_env_open": {
          "name": "idx_positions_symbol_env_open",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"positions\".\"closed_at\" IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "positions_decision_id_decisions_id_fk": {
          "name": "positions_decision_id_decisions_id_fk",
          "tableFrom": "positions",
          "tableTo": "decisions",
          "columnsFrom": [
            "decision_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "positive_quantity": {
          "name": "positive_quantity",
          "value": "\"positions\".\"qty\"::numeric > 0"
        },
        "positive_entry": {
          "name": "positive_entry",
          "value": "\"positions\".\"avg_entry\"::numeric > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.prediction_market_arbitrage": {
      "name": "prediction_market_arbitrage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "kalshi_ticker": {
          "name": "kalshi_ticker",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "polymarket_token": {
          "name": "polymarket_token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "kalshi_price": {
          "name": "kalshi_price",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "polymarket_price": {
          "name": "polymarket_price",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "divergence_pct": {
          "name": "divergence_pct",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "market_type": {
          "name": "market_type",
          "type": "prediction_market_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_price": {
          "name": "resolution_price",
          "type": "numeric(6, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_pm_arbitrage_divergence": {
          "name": "idx_pm_arbitrage_divergence",
          "columns": [
            {
              "expression": "divergence_pct",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pm_arbitrage_detected": {
          "name": "idx_pm_arbitrage_detected",
          "columns": [
            {
              "expression": "detected_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pm_arbitrage_unresolved": {
          "name": "idx_pm_arbitrage_unresolved",
          "columns": [
            {
              "expression": "resolved_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"prediction_market_arbitrage\".\"resolved_at\" IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.prediction_market_signals": {
      "name": "prediction_market_signals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "signal_type": {
          "name": "signal_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "signal_value": {
          "name": "signal_value",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "computed_at": {
          "name": "computed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "inputs": {
          "name": "inputs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_pm_signals_type": {
          "name": "idx_pm_signals_type",
          "columns": [
            {
              "expression": "signal_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pm_signals_time": {
          "name": "idx_pm_signals_time",
          "columns": [
            {
              "expression": "computed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "valid_confidence": {
          "name": "valid_confidence",
          "value": "\"prediction_market_signals\".\"confidence\" IS NULL OR (\"prediction_market_signals\".\"confidence\"::numeric >= 0 AND \"prediction_market_signals\".\"confidence\"::numeric <= 1)"
        }
      },
      "isRLSEnabled": false
    },
    "public.prediction_market_snapshots": {
      "name": "prediction_market_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "platform": {
          "name": "platform",
          "type": "prediction_market_platform",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "market_ticker": {
          "name": "market_ticker",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "market_type": {
          "name": "market_type",
          "type": "prediction_market_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "market_question": {
          "name": "market_question",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "snapshot_time": {
          "name": "snapshot_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_pm_snapshots_platform": {
          "name": "idx_pm_snapshots_platform",
          "columns": [
            {
              "expression": "platform",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pm_snapshots_ticker": {
          "name": "idx_pm_snapshots_ticker",
          "columns": [
            {
              "expression": "market_ticker",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pm_snapshots_type": {
          "name": "idx_pm_snapshots_type",
          "columns": [
            {
              "expression": "market_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pm_snapshots_time": {
          "name": "idx_pm_snapshots_time",
          "columns": [
            {
              "expression": "snapshot_time",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.regime_labels": {
      "name": "regime_labels",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "timeframe": {
          "name": "timeframe",
          "type": "timeframe",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "regime": {
          "name": "regime",
          "type": "regime",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "trend_strength": {
          "name": "trend_strength",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "volatility_percentile": {
          "name": "volatility_percentile",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_to_market": {
          "name": "correlation_to_market",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "model_name": {
          "name": "model_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'hmm_regime'"
        },
        "model_version": {
          "name": "model_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "computed_at": {
          "name": "computed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_regime_labels_symbol_ts_tf": {
          "name": "idx_regime_labels_symbol_ts_tf",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timeframe",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_regime_labels_symbol_ts": {
          "name": "idx_regime_labels_symbol_ts",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_regime_labels_regime": {
          "name": "idx_regime_labels_regime",
          "columns": [
            {
              "expression": "regime",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_regime_labels_market": {
          "name": "idx_regime_labels_market",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"regime_labels\".\"symbol\" = '_MARKET'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "valid_confidence": {
          "name": "valid_confidence",
          "value": "\"regime_labels\".\"confidence\"::numeric >= 0 AND \"regime_labels\".\"confidence\"::numeric <= 1"
        },
        "valid_trend_strength": {
          "name": "valid_trend_strength",
          "value": "\"regime_labels\".\"trend_strength\" IS NULL OR (\"regime_labels\".\"trend_strength\"::numeric >= 0 AND \"regime_labels\".\"trend_strength\"::numeric <= 1)"
        },
        "valid_correlation": {
          "name": "valid_correlation",
          "value": "\"regime_labels\".\"correlation_to_market\" IS NULL OR (\"regime_labels\".\"correlation_to_market\"::numeric >= -1 AND \"regime_labels\".\"correlation_to_market\"::numeric <= 1)"
        }
      },
      "isRLSEnabled": false
    },
    "public.research_runs": {
      "name": "research_runs",
      "schema": "",
      "columns": {
        "run_id": {
          "name": "run_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "research_trigger_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_reason": {
          "name": "trigger_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phase": {
          "name": "phase",
          "type": "research_phase",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'idea'"
        },
        "current_iteration": {
          "name": "current_iteration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "hypothesis_id": {
          "name": "hypothesis_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "factor_id": {
          "name": "factor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "pr_url": {
          "name": "pr_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "compute_hours": {
          "name": "compute_hours",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.0'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_research_runs_phase": {
          "name": "idx_research_runs_phase",
          "columns": [
            {
              "expression": "phase",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_research_runs_trigger": {
          "name": "idx_research_runs_trigger",
          "columns": [
            {
              "expression": "trigger_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_research_runs_hypothesis": {
          "name": "idx_research_runs_hypothesis",
          "columns": [
            {
              "expression": "hypothesis_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_research_runs_factor": {
          "name": "idx_research_runs_factor",
          "columns": [
            {
              "expression": "factor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "research_runs_hypothesis_id_hypotheses_hypothesis_id_fk": {
          "name": "research_runs_hypothesis_id_hypotheses_hypothesis_id_fk",
          "tableFrom": "research_runs",
          "tableTo": "hypotheses",
          "columnsFrom": [
            "hypothesis_id"
          ],
          "columnsTo": [
            "hypothesis_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "research_runs_factor_id_factors_factor_id_fk": {
          "name": "research_runs_factor_id_factors_factor_id_fk",
          "tableFrom": "research_runs",
          "tableTo": "factors",
          "columnsFrom": [
            "factor_id"
          ],
          "columnsTo": [
            "factor_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sentiment_indicators": {
      "name": "sentiment_indicators",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "sentiment_score": {
          "name": "sentiment_score",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment_strength": {
          "name": "sentiment_strength",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "news_volume": {
          "name": "news_volume",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment_momentum": {
          "name": "sentiment_momentum",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "event_risk_flag": {
          "name": "event_risk_flag",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "news_sentiment": {
          "name": "news_sentiment",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "social_sentiment": {
          "name": "social_sentiment",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "analyst_sentiment": {
          "name": "analyst_sentiment",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "computed_at": {
          "name": "computed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_sentiment_symbol_date": {
          "name": "idx_sentiment_symbol_date",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sentiment_symbol": {
          "name": "idx_sentiment_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sentiment_indicators_symbol_date": {
          "name": "sentiment_indicators_symbol_date",
          "nullsNotDistinct": false,
          "columns": [
            "symbol",
            "date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session": {
      "name": "session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_session_user_id": {
          "name": "idx_session_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_session_token": {
          "name": "idx_session_token",
          "columns": [
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_session_expires_at": {
          "name": "idx_session_expires_at",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "session_user_id_user_id_fk": {
          "name": "session_user_id_user_id_fk",
          "tableFrom": "session",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "session_token_unique": {
          "name": "session_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.short_interest_indicators": {
      "name": "short_interest_indicators",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "settlement_date": {
          "name": "settlement_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "short_interest": {
          "name": "short_interest",
          "type": "numeric(18, 0)",
          "primaryKey": false,
          "notNull": true
        },
        "short_interest_ratio": {
          "name": "short_interest_ratio",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "days_to_cover": {
          "name": "days_to_cover",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "short_pct_float": {
          "name": "short_pct_float",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "short_interest_change": {
          "name": "short_interest_change",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'FINRA'"
        },
        "fetched_at": {
          "name": "fetched_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_short_interest_symbol": {
          "name": "idx_short_interest_symbol",
          "columns": [
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "settlement_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_short_interest_settlement": {
          "name": "idx_short_interest_settlement",
          "columns": [
            {
              "expression": "settlement_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "short_interest_symbol_date": {
          "name": "short_interest_symbol_date",
          "nullsNotDistinct": false,
          "columns": [
            "symbol",
            "settlement_date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_state": {
      "name": "system_state",
      "schema": "",
      "columns": {
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": true,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "system_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'stopped'"
        },
        "last_cycle_id": {
          "name": "last_cycle_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "last_cycle_time": {
          "name": "last_cycle_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "current_phase": {
          "name": "current_phase",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phase_started_at": {
          "name": "phase_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "next_cycle_at": {
          "name": "next_cycle_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.thesis_state": {
      "name": "thesis_state",
      "schema": "",
      "columns": {
        "thesis_id": {
          "name": "thesis_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "instrument_id": {
          "name": "instrument_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "state": {
          "name": "state",
          "type": "thesis_state_value",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "entry_price": {
          "name": "entry_price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "entry_date": {
          "name": "entry_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "current_stop": {
          "name": "current_stop",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "current_target": {
          "name": "current_target",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "conviction": {
          "name": "conviction",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "entry_thesis": {
          "name": "entry_thesis",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "invalidation_conditions": {
          "name": "invalidation_conditions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "add_count": {
          "name": "add_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_position_reached": {
          "name": "max_position_reached",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "peak_unrealized_pnl": {
          "name": "peak_unrealized_pnl",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "close_reason": {
          "name": "close_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "exit_price": {
          "name": "exit_price",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "realized_pnl": {
          "name": "realized_pnl",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "realized_pnl_pct": {
          "name": "realized_pnl_pct",
          "type": "numeric(8, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_thesis_state_instrument": {
          "name": "idx_thesis_state_instrument",
          "columns": [
            {
              "expression": "instrument_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_thesis_state_state": {
          "name": "idx_thesis_state_state",
          "columns": [
            {
              "expression": "state",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_thesis_state_environment": {
          "name": "idx_thesis_state_environment",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_thesis_state_created_at": {
          "name": "idx_thesis_state_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_thesis_state_closed_at": {
          "name": "idx_thesis_state_closed_at",
          "columns": [
            {
              "expression": "closed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_thesis_state_active": {
          "name": "idx_thesis_state_active",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "state",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"thesis_state\".\"state\" != 'CLOSED'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_thesis_state_instrument_active": {
          "name": "idx_thesis_state_instrument_active",
          "columns": [
            {
              "expression": "instrument_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"thesis_state\".\"state\" != 'CLOSED'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "valid_conviction": {
          "name": "valid_conviction",
          "value": "\"thesis_state\".\"conviction\" IS NULL OR (\"thesis_state\".\"conviction\"::numeric >= 0 AND \"thesis_state\".\"conviction\"::numeric <= 1)"
        },
        "positive_entry_price": {
          "name": "positive_entry_price",
          "value": "\"thesis_state\".\"entry_price\" IS NULL OR \"thesis_state\".\"entry_price\"::numeric > 0"
        },
        "positive_exit_price": {
          "name": "positive_exit_price",
          "value": "\"thesis_state\".\"exit_price\" IS NULL OR \"thesis_state\".\"exit_price\"::numeric > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.thesis_state_history": {
      "name": "thesis_state_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "thesis_id": {
          "name": "thesis_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "from_state": {
          "name": "from_state",
          "type": "thesis_state_value",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "to_state": {
          "name": "to_state",
          "type": "thesis_state_value",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_reason": {
          "name": "trigger_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cycle_id": {
          "name": "cycle_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "price_at_transition": {
          "name": "price_at_transition",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "conviction_at_transition": {
          "name": "conviction_at_transition",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_thesis_history_thesis_id": {
          "name": "idx_thesis_history_thesis_id",
          "columns": [
            {
              "expression": "thesis_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_thesis_history_created_at": {
          "name": "idx_thesis_history_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_thesis_history_thesis_created": {
          "name": "idx_thesis_history_thesis_created",
          "columns": [
            {
              "expression": "thesis_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "thesis_state_history_thesis_id_thesis_state_thesis_id_fk": {
          "name": "thesis_state_history_thesis_id_thesis_state_thesis_id_fk",
          "tableFrom": "thesis_state_history",
          "tableTo": "thesis_state",
          "columnsFrom": [
            "thesis_id"
          ],
          "columnsTo": [
            "thesis_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "valid_conviction": {
          "name": "valid_conviction",
          "value": "\"thesis_state_history\".\"conviction_at_transition\" IS NULL OR (\"thesis_state_history\".\"conviction_at_transition\"::numeric >= 0 AND \"thesis_state_history\".\"conviction_at_transition\"::numeric <= 1)"
        },
        "positive_price": {
          "name": "positive_price",
          "value": "\"thesis_state_history\".\"price_at_transition\" IS NULL OR \"thesis_state_history\".\"price_at_transition\"::numeric > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.ticker_changes": {
      "name": "ticker_changes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "old_symbol": {
          "name": "old_symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "new_symbol": {
          "name": "new_symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "change_date": {
          "name": "change_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "change_type": {
          "name": "change_type",
          "type": "ticker_change_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "conversion_ratio": {
          "name": "conversion_ratio",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "acquiring_company": {
          "name": "acquiring_company",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'alpaca'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ticker_changes_old": {
          "name": "idx_ticker_changes_old",
          "columns": [
            {
              "expression": "old_symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "change_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ticker_changes_new": {
          "name": "idx_ticker_changes_new",
          "columns": [
            {
              "expression": "new_symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "change_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ticker_changes_date": {
          "name": "idx_ticker_changes_date",
          "columns": [
            {
              "expression": "change_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ticker_changes_unique": {
          "name": "idx_ticker_changes_unique",
          "columns": [
            {
              "expression": "old_symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "new_symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "change_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.trading_config": {
      "name": "trading_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "max_consensus_iterations": {
          "name": "max_consensus_iterations",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "agent_timeout_ms": {
          "name": "agent_timeout_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30000
        },
        "total_consensus_timeout_ms": {
          "name": "total_consensus_timeout_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 300000
        },
        "conviction_delta_hold": {
          "name": "conviction_delta_hold",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.2'"
        },
        "conviction_delta_action": {
          "name": "conviction_delta_action",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.3'"
        },
        "high_conviction_pct": {
          "name": "high_conviction_pct",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.7'"
        },
        "medium_conviction_pct": {
          "name": "medium_conviction_pct",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.5'"
        },
        "low_conviction_pct": {
          "name": "low_conviction_pct",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.25'"
        },
        "min_risk_reward_ratio": {
          "name": "min_risk_reward_ratio",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.5'"
        },
        "kelly_fraction": {
          "name": "kelly_fraction",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.5'"
        },
        "trading_cycle_interval_ms": {
          "name": "trading_cycle_interval_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3600000
        },
        "prediction_markets_interval_ms": {
          "name": "prediction_markets_interval_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 900000
        },
        "global_model": {
          "name": "global_model",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'gemini-3-flash-preview'"
        },
        "status": {
          "name": "status",
          "type": "config_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "promoted_from": {
          "name": "promoted_from",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_trading_config_environment": {
          "name": "idx_trading_config_environment",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_trading_config_status": {
          "name": "idx_trading_config_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_trading_config_env_status": {
          "name": "idx_trading_config_env_status",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_trading_config_created_at": {
          "name": "idx_trading_config_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_trading_config_env_active": {
          "name": "idx_trading_config_env_active",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"trading_config\".\"status\" = 'active'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "valid_kelly": {
          "name": "valid_kelly",
          "value": "\"trading_config\".\"kelly_fraction\"::numeric > 0 AND \"trading_config\".\"kelly_fraction\"::numeric <= 1"
        }
      },
      "isRLSEnabled": false
    },
    "public.two_factor": {
      "name": "two_factor",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "secret": {
          "name": "secret",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "backup_codes": {
          "name": "backup_codes",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_two_factor_user_id": {
          "name": "idx_two_factor_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_two_factor_secret": {
          "name": "idx_two_factor_secret",
          "columns": [
            {
              "expression": "secret",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "two_factor_user_id_user_id_fk": {
          "name": "two_factor_user_id_user_id_fk",
          "tableFrom": "two_factor",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.universe_cache": {
      "name": "universe_cache",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_hash": {
          "name": "source_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tickers": {
          "name": "tickers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "ticker_count": {
          "name": "ticker_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "cached_at": {
          "name": "cached_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_universe_cache_source": {
          "name": "idx_universe_cache_source",
          "columns": [
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_universe_cache_expires": {
          "name": "idx_universe_cache_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_universe_cache_hash": {
          "name": "idx_universe_cache_hash",
          "columns": [
            {
              "expression": "source_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.universe_configs": {
      "name": "universe_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "environment": {
          "name": "environment",
          "type": "environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "universe_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "static_symbols": {
          "name": "static_symbols",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "index_source": {
          "name": "index_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "min_volume": {
          "name": "min_volume",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_market_cap": {
          "name": "min_market_cap",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "optionable_only": {
          "name": "optionable_only",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "include_list": {
          "name": "include_list",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "exclude_list": {
          "name": "exclude_list",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "config_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_universe_configs_environment": {
          "name": "idx_universe_configs_environment",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_universe_configs_status": {
          "name": "idx_universe_configs_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_universe_configs_env_status": {
          "name": "idx_universe_configs_env_status",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_universe_configs_env_active": {
          "name": "idx_universe_configs_env_active",
          "columns": [
            {
              "expression": "environment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"universe_configs\".\"status\" = 'active'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.universe_snapshots": {
      "name": "universe_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "snapshot_date": {
          "name": "snapshot_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "index_id": {
          "name": "index_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tickers": {
          "name": "tickers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "ticker_count": {
          "name": "ticker_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "source_version": {
          "name": "source_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "computed_at": {
          "name": "computed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_universe_snapshots_pit": {
          "name": "idx_universe_snapshots_pit",
          "columns": [
            {
              "expression": "index_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "snapshot_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_universe_snapshots_date": {
          "name": "idx_universe_snapshots_date",
          "columns": [
            {
              "expression": "snapshot_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "two_factor_enabled": {
          "name": "two_factor_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_email": {
          "name": "idx_user_email",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_created_at": {
          "name": "idx_user_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_email_unique": {
          "name": "user_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_preferences": {
      "name": "user_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "theme": {
          "name": "theme",
          "type": "theme",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'system'"
        },
        "chart_timeframe": {
          "name": "chart_timeframe",
          "type": "chart_timeframe",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'1M'"
        },
        "feed_filters": {
          "name": "feed_filters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "sidebar_collapsed": {
          "name": "sidebar_collapsed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "notification_settings": {
          "name": "notification_settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"emailAlerts\":true,\"pushNotifications\":false,\"tradeConfirmations\":true,\"dailySummary\":true,\"riskAlerts\":true}'::jsonb"
        },
        "default_portfolio_view": {
          "name": "default_portfolio_view",
          "type": "portfolio_view",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'table'"
        },
        "date_format": {
          "name": "date_format",
          "type": "date_format",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'MM/DD/YYYY'"
        },
        "time_format": {
          "name": "time_format",
          "type": "time_format",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'12h'"
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_preferences_user_id": {
          "name": "idx_user_preferences_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_preferences_created_at": {
          "name": "idx_user_preferences_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_preferences_user_id_user_id_fk": {
          "name": "user_preferences_user_id_user_id_fk",
          "tableFrom": "user_preferences",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_preferences_user_id_unique": {
          "name": "user_preferences_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.verification": {
      "name": "verification",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuidv7()"
        },
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_verification_identifier": {
          "name": "idx_verification_identifier",
          "columns": [
            {
              "expression": "identifier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_verification_expires_at": {
          "name": "idx_verification_expires_at",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.agent_type": {
      "name": "agent_type",
      "schema": "public",
      "values": [
        "technical",
        "news_analyst",
        "fundamentals_analyst",
        "bullish_researcher",
        "bearish_researcher",
        "trader",
        "risk_manager",
        "critic"
      ]
    },
    "public.agent_vote": {
      "name": "agent_vote",
      "schema": "public",
      "values": [
        "APPROVE",
        "REJECT",
        "ABSTAIN"
      ]
    },
    "public.alert_severity": {
      "name": "alert_severity",
      "schema": "public",
      "values": [
        "info",
        "warning",
        "error",
        "critical"
      ]
    },
    "public.backtest_status": {
      "name": "backtest_status",
      "schema": "public",
      "values": [
        "pending",
        "running",
        "completed",
        "failed"
      ]
    },
    "public.chart_timeframe": {
      "name": "chart_timeframe",
      "schema": "public",
      "values": [
        "1D",
        "1W",
        "1M",
        "3M",
        "6M",
        "1Y",
        "ALL"
      ]
    },
    "public.config_status": {
      "name": "config_status",
      "schema": "public",
      "values": [
        "draft",
        "testing",
        "active",
        "archived"
      ]
    },
    "public.corporate_action_type": {
      "name": "corporate_action_type",
      "schema": "public",
      "values": [
        "split",
        "dividend",
        "merger",
        "spinoff"
      ]
    },
    "public.cycle_event_type": {
      "name": "cycle_event_type",
      "schema": "public",
      "values": [
        "phase_change",
        "agent_start",
        "agent_complete",
        "decision",
        "order",
        "error",
        "progress",
        "tool_call",
        "tool_result",
        "reasoning_delta",
        "text_delta"
      ]
    },
    "public.cycle_phase": {
      "name": "cycle_phase",
      "schema": "public",
      "values": [
        "observe",
        "orient",
        "decide",
        "act",
        "complete"
      ]
    },
    "public.cycle_status": {
      "name": "cycle_status",
      "schema": "public",
      "values": [
        "running",
        "completed",
        "failed"
      ]
    },
    "public.date_format": {
      "name": "date_format",
      "schema": "public",
      "values": [
        "MM/DD/YYYY",
        "DD/MM/YYYY",
        "YYYY-MM-DD"
      ]
    },
    "public.decision_action": {
      "name": "decision_action",
      "schema": "public",
      "values": [
        "BUY",
        "SELL",
        "HOLD",
        "CLOSE",
        "INCREASE",
        "REDUCE",
        "NO_TRADE"
      ]
    },
    "public.decision_direction": {
      "name": "decision_direction",
      "schema": "public",
      "values": [
        "LONG",
        "SHORT",
        "FLAT"
      ]
    },
    "public.decision_status": {
      "name": "decision_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "rejected",
        "executed",
        "cancelled",
        "expired"
      ]
    },
    "public.environment": {
      "name": "environment",
      "schema": "public",
      "values": [
        "BACKTEST",
        "PAPER",
        "LIVE"
      ]
    },
    "public.execution_recovery_status": {
      "name": "execution_recovery_status",
      "schema": "public",
      "values": [
        "unknown",
        "healthy",
        "error",
        "interrupted",
        "needs_attention"
      ]
    },
    "public.external_event_source": {
      "name": "external_event_source",
      "schema": "public",
      "values": [
        "news",
        "earnings",
        "sec_filing",
        "fed"
      ]
    },
    "public.factor_status": {
      "name": "factor_status",
      "schema": "public",
      "values": [
        "research",
        "stage1",
        "stage2",
        "paper",
        "active",
        "decaying",
        "retired"
      ]
    },
    "public.filing_status": {
      "name": "filing_status",
      "schema": "public",
      "values": [
        "pending",
        "processing",
        "complete",
        "failed"
      ]
    },
    "public.filing_type": {
      "name": "filing_type",
      "schema": "public",
      "values": [
        "10-K",
        "10-Q",
        "8-K",
        "DEF14A"
      ]
    },
    "public.hypothesis_status": {
      "name": "hypothesis_status",
      "schema": "public",
      "values": [
        "proposed",
        "testing",
        "validated",
        "rejected"
      ]
    },
    "public.index_id": {
      "name": "index_id",
      "schema": "public",
      "values": [
        "SP500",
        "NDX100",
        "DJIA"
      ]
    },
    "public.indicator_category": {
      "name": "indicator_category",
      "schema": "public",
      "values": [
        "momentum",
        "trend",
        "volatility",
        "volume",
        "sentiment"
      ]
    },
    "public.indicator_status": {
      "name": "indicator_status",
      "schema": "public",
      "values": [
        "staging",
        "paper",
        "production",
        "retired"
      ]
    },
    "public.macro_watch_category": {
      "name": "macro_watch_category",
      "schema": "public",
      "values": [
        "NEWS",
        "PREDICTION",
        "ECONOMIC",
        "MOVER",
        "EARNINGS"
      ]
    },
    "public.macro_watch_session": {
      "name": "macro_watch_session",
      "schema": "public",
      "values": [
        "OVERNIGHT",
        "PRE_MARKET",
        "AFTER_HOURS"
      ]
    },
    "public.order_side": {
      "name": "order_side",
      "schema": "public",
      "values": [
        "buy",
        "sell"
      ]
    },
    "public.order_status": {
      "name": "order_status",
      "schema": "public",
      "values": [
        "pending",
        "submitted",
        "accepted",
        "partial_fill",
        "filled",
        "cancelled",
        "rejected",
        "expired"
      ]
    },
    "public.order_type": {
      "name": "order_type",
      "schema": "public",
      "values": [
        "market",
        "limit",
        "stop",
        "stop_limit"
      ]
    },
    "public.parity_entity_type": {
      "name": "parity_entity_type",
      "schema": "public",
      "values": [
        "indicator",
        "factor",
        "config"
      ]
    },
    "public.parity_recommendation": {
      "name": "parity_recommendation",
      "schema": "public",
      "values": [
        "APPROVE_FOR_LIVE",
        "NEEDS_INVESTIGATION",
        "NOT_READY"
      ]
    },
    "public.portfolio_view": {
      "name": "portfolio_view",
      "schema": "public",
      "values": [
        "table",
        "cards"
      ]
    },
    "public.position_side": {
      "name": "position_side",
      "schema": "public",
      "values": [
        "long",
        "short"
      ]
    },
    "public.position_status": {
      "name": "position_status",
      "schema": "public",
      "values": [
        "open",
        "closed",
        "pending"
      ]
    },
    "public.prediction_market_platform": {
      "name": "prediction_market_platform",
      "schema": "public",
      "values": [
        "kalshi",
        "polymarket"
      ]
    },
    "public.prediction_market_type": {
      "name": "prediction_market_type",
      "schema": "public",
      "values": [
        "rate",
        "election",
        "economic"
      ]
    },
    "public.regime": {
      "name": "regime",
      "schema": "public",
      "values": [
        "trending_up",
        "trending_down",
        "ranging",
        "volatile"
      ]
    },
    "public.research_phase": {
      "name": "research_phase",
      "schema": "public",
      "values": [
        "idea",
        "implementation",
        "stage1",
        "stage2",
        "translation",
        "equivalence",
        "paper",
        "promotion",
        "completed",
        "failed"
      ]
    },
    "public.research_trigger_type": {
      "name": "research_trigger_type",
      "schema": "public",
      "values": [
        "scheduled",
        "decay_detected",
        "regime_change",
        "manual",
        "refinement"
      ]
    },
    "public.sentiment": {
      "name": "sentiment",
      "schema": "public",
      "values": [
        "positive",
        "negative",
        "neutral"
      ]
    },
    "public.size_unit": {
      "name": "size_unit",
      "schema": "public",
      "values": [
        "SHARES",
        "CONTRACTS",
        "DOLLARS",
        "PCT_EQUITY"
      ]
    },
    "public.sync_run_status": {
      "name": "sync_run_status",
      "schema": "public",
      "values": [
        "running",
        "completed",
        "failed"
      ]
    },
    "public.sync_trigger_source": {
      "name": "sync_trigger_source",
      "schema": "public",
      "values": [
        "scheduled",
        "manual",
        "dashboard"
      ]
    },
    "public.system_status": {
      "name": "system_status",
      "schema": "public",
      "values": [
        "stopped",
        "running",
        "paused",
        "error"
      ]
    },
    "public.theme": {
      "name": "theme",
      "schema": "public",
      "values": [
        "light",
        "dark",
        "system"
      ]
    },
    "public.thesis_state_value": {
      "name": "thesis_state_value",
      "schema": "public",
      "values": [
        "WATCHING",
        "STAGED",
        "OPEN",
        "SCALING",
        "EXITING",
        "CLOSED"
      ]
    },
    "public.ticker_change_type": {
      "name": "ticker_change_type",
      "schema": "public",
      "values": [
        "rename",
        "merger",
        "spinoff",
        "delisted"
      ]
    },
    "public.time_format": {
      "name": "time_format",
      "schema": "public",
      "values": [
        "12h",
        "24h"
      ]
    },
    "public.time_in_force": {
      "name": "time_in_force",
      "schema": "public",
      "values": [
        "day",
        "gtc",
        "ioc",
        "fok"
      ]
    },
    "public.timeframe": {
      "name": "timeframe",
      "schema": "public",
      "values": [
        "1m",
        "5m",
        "15m",
        "1h",
        "1d"
      ]
    },
    "public.universe_source": {
      "name": "universe_source",
      "schema": "public",
      "values": [
        "static",
        "index",
        "screener"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}